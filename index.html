<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>$WALRUS Presale</title>

  <style>
    :root{
      --bg:#070a12;
      --card:rgba(255,255,255,.06);
      --card2:rgba(255,255,255,.08);
      --stroke:rgba(62,242,194,.28);
      --text:#ffffff;
      --muted:rgba(255,255,255,.72);
      --accent:#3ef2c2;
      --accent2:#7dffe9;
      --shadow:0 18px 70px rgba(0,0,0,.55);
      --radius:22px;
    }

    html,body{height:100%;}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, Helvetica, sans-serif;
      color:var(--text);
      background:var(--bg);
      text-align:center;
      overflow-x:hidden;
      position:relative;
    }

    .glow{
      position:fixed;
      inset:-200px;
      z-index:-2;
      background:
        radial-gradient(circle at 20% 30%, rgba(62,242,194,.18), transparent 45%),
        radial-gradient(circle at 80% 10%, rgba(125,255,233,.14), transparent 45%),
        radial-gradient(circle at 70% 80%, rgba(62,242,194,.10), transparent 55%);
      filter: blur(14px);
      pointer-events:none;
    }

    .wrap{
      max-width:920px;
      margin:0 auto;
      padding:22px 16px 40px;
    }

    .heroImg{
      width:min(560px,92vw);
      border-radius:var(--radius);
      box-shadow:0 0 0 1px rgba(255,255,255,.10), 0 0 28px rgba(62,242,194,.22);
      margin:10px auto 12px;
      display:block;
    }

    h1{
      margin:10px 0 6px;
      font-size:56px;
      letter-spacing:1px;
      line-height:1.0;
    }

    .sub{
      margin:0 0 16px;
      color:var(--muted);
      font-weight:600;
    }

    .card{
      background:linear-gradient(180deg, var(--card2), var(--card));
      border:1px solid rgba(255,255,255,.10);
      box-shadow:var(--shadow);
      border-radius:var(--radius);
      padding:22px 16px;
      margin:18px auto;
      max-width:760px;
    }

    .stageTitle{
      font-size:36px;
      font-weight:900;
      color:var(--accent);
      margin:6px 0 14px;
    }

    .row{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin:8px 0 14px;
    }

    .pill{
      min-width:240px;
      padding:12px 14px;
      border-radius:999px;
      background:rgba(15,42,42,.55);
      border:1px solid var(--stroke);
      font-weight:800;
      box-shadow:0 10px 30px rgba(0,0,0,.35);
    }

    .pill small{opacity:.75; font-weight:700;}
    .pill strong{font-weight:900;}

    .progressWrap{
      margin:14px auto 10px;
      max-width:560px;
      text-align:left;
    }

    .progressTop{
      display:flex;
      justify-content:space-between;
      gap:10px;
      font-size:13px;
      color:var(--muted);
      margin-bottom:8px;
      font-weight:700;
    }

    .bar{
      width:100%;
      height:14px;
      border-radius:999px;
      background:rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.12);
      overflow:hidden;
      box-shadow: inset 0 2px 10px rgba(0,0,0,.45);
    }

    .barFill{
      height:100%;
      width:0%;
      background:linear-gradient(90deg, var(--accent), var(--accent2));
      border-radius:999px;
      box-shadow: 0 0 18px rgba(62,242,194,.35);
    }

    .inputs{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:14px;
    }

    input{
      width:260px;
      padding:14px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.25);
      color:white;
      outline:none;
      font-size:16px;
      font-weight:700;
    }
    input::placeholder{color:rgba(255,255,255,.45);}

    .btnRow{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:14px;
    }

    .btn{
      padding:16px 22px;
      border-radius:16px;
      border:none;
      font-weight:1000;
      font-size:18px;
      cursor:pointer;
      letter-spacing:.2px;
      transition:transform .06s ease, filter .2s ease;
    }
    .btn:active{transform:translateY(1px) scale(.99);}

    .btnPrimary{
      background:linear-gradient(180deg, var(--accent2), var(--accent));
      color:#02110e;
      box-shadow:0 18px 40px rgba(62,242,194,.22);
    }
    .btnGhost{
      background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.14);
      color:white;
    }

    .addr{
      margin-top:12px;
      padding:14px 16px;
      border-radius:16px;
      background:rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.12);
      word-break:break-all;
      cursor:pointer;
      user-select:none;
    }
    .addr small{display:block;color:rgba(255,255,255,.6);font-weight:800;margin-bottom:6px;}
    .addr strong{font-size:16px; letter-spacing:.2px;}

    .miniLink{
      display:inline-block;
      margin-top:10px;
      color:var(--accent);
      font-weight:900;
      text-decoration:none;
    }

    .note{
      margin-top:14px;
      color:rgba(255,255,255,.55);
      font-size:12.5px;
      font-weight:650;
    }

    .footerSpace{height:10px;}
  </style>
</head>

<body>
  <div class="glow"></div>

  <div class="wrap">
    <!-- TOP IMAGE -->
    <img class="heroImg" src="IMG_6472.jpeg" alt="$WALRUS main art">

    <h1>$WALRUS</h1>
    <div class="sub">Presale • Built on Solana</div>

    <div class="card">
      <div class="stageTitle">Stage 1 Presale</div>

      <div class="row">
        <div class="pill"><small>Stage Price</small><br><strong>0.0000001</strong></div>
        <div class="pill"><small>Raised</small><br><strong id="raisedText">0.00 SOL</strong></div>
      </div>

      <div class="progressWrap">
        <div class="progressTop">
          <span id="progressLeft">0.00 / 800 SOL (Stage 1)</span>
          <span id="progressPct">0%</span>
        </div>
        <div class="bar"><div class="barFill" id="barFill"></div></div>
      </div>

      <div class="row">
        <div class="pill"><small>Next Stage At</small><br><strong>800 SOL</strong></div>
        <div class="pill"><small>Your Estimate</small><br><strong id="ownedText">0 WALRUS</strong></div>
      </div>

      <div class="inputs">
        <input id="solInput" inputmode="decimal" placeholder="Enter SOL amount" />
      </div>

      <div class="btnRow">
        <button class="btn btnGhost" id="openInPhantomBtn">Open in Phantom</button>
        <button class="btn btnPrimary" id="buyBtn">BUY WITH SOL</button>
      </div>

      <div class="addr" id="depositBox" title="Tap to copy">
        <small>Presale Deposit Wallet (tap to copy)</small>
        <strong id="depositAddrText"></strong>
      </div>

      <a class="miniLink" id="solscanLink" target="_blank" rel="noopener">View on Solscan: Open Explorer</a>

      <div class="note">
        Tip: On iPhone, the smoothest experience is opening this page inside Phantom’s in-app browser.
        “BUY WITH SOL” uses a Solana Pay link and will open a compatible wallet to confirm.
      </div>
    </div>

    <!-- BOTTOM IMAGE -->
    <img class="heroImg" src="IMG_6473.jpeg" alt="$WALRUS handshake art">

    <div class="footerSpace"></div>
  </div>

<script>
  const DEPOSIT_WALLET = "9RHnZobeZBKSLDaTVEiKk5FewZapSTJfyHnR396d7QEi";

  const STAGE_CAP_SOL = 800;
  const STAGE_PRICE = 0.0000001; // Stage 1 price

  // Always start at 0 (static). Real raised requires a backend / verified on-chain source.
  const raised = 83;

  // Render static UI at 0
document.getElementById("raisedText").innerText = raised.toFixed(2) + " SOL";

document.getElementById("progressLeft").innerText =
  raised.toFixed(2) + " / " + STAGE_CAP_SOL + " SOL (Stage 1)";

const percent = (raised / STAGE_CAP_SOL) * 100;

document.getElementById("progressPct").innerText =
  Math.floor(percent) + "%";

document.getElementById("barFill").style.width =
  percent + "%";

  // Solscan link + deposit display
  document.getElementById("solscanLink").href = `https://solscan.io/account/${DEPOSIT_WALLET}`;
  document.getElementById("depositAddrText").innerText = DEPOSIT_WALLET;

  // Tap to copy
  document.getElementById("depositBox").addEventListener("click", async () => {
    try {
      await navigator.clipboard.writeText(DEPOSIT_WALLET);
      alert("Copied deposit wallet ✅");
    } catch (e) {
      const t = document.createElement("textarea");
      t.value = DEPOSIT_WALLET;
      document.body.appendChild(t);
      t.select();
      document.execCommand("copy");
      t.remove();
      alert("Copied deposit wallet ✅");
    }
  });

  // Estimate tokens
  function updateEstimate(){
    const solVal = Number(document.getElementById("solInput").value || 0);
    const tokens = (solVal > 0) ? Math.floor(solVal / STAGE_PRICE) : 0;
    document.getElementById("ownedText").innerText = `${tokens.toLocaleString()} WALRUS`;
  }
  document.getElementById("solInput").addEventListener("input", updateEstimate);
  updateEstimate();

  // Best iPhone flow: open this exact page inside Phantom
  document.getElementById("openInPhantomBtn").addEventListener("click", () => {
    const url = window.location.href;
    window.location.href = `https://phantom.app/ul/browse/${encodeURIComponent(url)}`;
  });

  // BUY WITH SOL via Solana Pay deep link
  document.getElementById("buyBtn").addEventListener("click", () => {
    const sol = Number(document.getElementById("solInput").value || 0);
    if (!isFinite(sol) || sol <= 0) {
      alert("Enter a SOL amount first.");
      return;
    }

    const label = encodeURIComponent("$WALRUS Presale");
    const message = encodeURIComponent("Presale contribution");
    const amount = encodeURIComponent(sol.toString());

    // Solana Pay URI – user confirms in their wallet
    const solanaPay = `solana:${DEPOSIT_WALLET}?amount=${amount}&label=${label}&message=${message}`;

    window.location.href = solanaPay;
  });
</script>

</body>
</html>
